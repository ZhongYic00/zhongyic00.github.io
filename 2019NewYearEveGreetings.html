<!DOCTYPE HTML>
<html>
<head>
<title>ZhYic-2019NewYearGreetings</title> <link rel="shortcut icon" href="picture/ZhYiclogo_dark.ico"/> <link rel="bookmark"href="picture/ZhYiclogo_dark.ico" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta charset="UTF-8">
<meta http-equiv="x-dns-prefetch-control" content="on">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
<meta name="renderer" content="webkit">
<meta http-equiv="Cache-Control" content="no-transform"/>
<meta http-equiv="Cache-Control" content="no-siteapp"/>
<link rel="stylesheet" type="text/css" href="css/mobile/modern.css">
<script src="js/velocity.js"></script>
<link rel="stylesheet" href="css/styles/solarized-light.css">
<script src="js/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.js" integrity="sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/contrib/auto-render.min.js" integrity="sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe" crossorigin="anonymous"></script>
<script src="js/loading.js"></script>
</head>
<body>

    <div id="header-container">
    <div id="header">
        <span id="menu-button">
            <img id="menu-symbol"/>
        </span>
        <div id="header-context"><h1>2019元旦祝福</h1><!--here--></div>
        <span id="setting-area"><span class="setting-option" id="theme-button">
            <img id="theme-symbol"/>
        </span>
        <span class="setting-option" id="setting-button">
            <img id="setting-symbol" src="picture/setting_sym.svg">
        </span>
        </span>
    </div>
    <iframe id="setting-iframe" src="settings.html" frameborder=0></iframe>
    <iframe id="setting-iframe" src="settings.html" frameborder=0></iframe>\    </div>
    <div id="menu-container"></div>    <script>
        Velocity(document.getElementById("header"),{top:0},{duration:"slow",easing:"spring"});
    </script>
    <nav id="article-index" class="float-shadow" style="visibility:hidden;"></nav>
    <main>
        <p>2018年，我们经历了许多人生中的起起落落，收获了一段美好快乐的时光。</p>
        <p>尽管我们也曾走入逆境，但在一时的风雨后我们迎来了灿烂的晴天。</p>
        <p>有些话早已耳熟能详，但在新的一年到来之际，我诚挚地祝福大家：</p>
        <img src="picture/2019NewYearEveGreetings1.png">
        <p>人生的第17个年头，我希望更充实更有意义地度过</p>
        <p>也希望诸位在2019年里，<img src="picture/2019NewYearEveGreetings2.png"></p>
</main>
<iframe src="footer.html" id="footer" frameborder="0"></iframe>
<div id="to-top"><img id="to-top-symbol"/></div>
<script>
        Velocity(document.getElementsByTagName("main"),{opacity:1},{delay:200,duration:"slow",easing:"ease-out"});</script>
<script>const BLACK='#000',LYELLOW1='#3c3c3c',LYELLOW2='#2c2c2c',LGREY='#E8E8E8';
        var cnt = 0, flag = false, hideflag = false, Topflag = false, Menuflag=false, nightshift = false, DisableautoTheme=false;
        var a, currentHeight, currentWidth, last, lineH, fontH,codeHidden=false,lastH,lastW,firstInit=true;
        var Bodys=document.getElementsByTagName("body"),Mains=document.getElementsByTagName("main");
        var Body=Bodys[0],Main=Mains[0];
        var TopSvg = document.getElementById("to-top-symbol"), TopDiv = document.getElementById("to-top"), TopButton = new Array(),MenuDiv=document.getElementById("menu-button"),MenuSvg=document.getElementById("menu-symbol"),MenuButton=new Array(),ThemeDiv=document.getElementById("theme-button"),ThemeSvg=document.getElementById("theme-symbol"),MenuContainer=document.getElementById('menu-container'),SettingDiv=document.getElementById('setting-button'),settingIframe=document.getElementById('setting-iframe'),Header=[document.getElementById("header-container"),MenuContainer];
        TopButton[0] = TopSvg, TopButton[1] = TopDiv,MenuButton[0]=MenuSvg,MenuButton[1]=MenuDiv;
        var Menubox=document.createElement("div"),Menulist=document.createElement("ul"),Menucontext=['home','archive','Friends'],ThemeSvg;
        Menubox.className="menu",Menulist.className="menu";
        function Draw(obj,picName,ext){
            ext=ext||'';
            if(obj)obj.src='picture/'+picName+'.'+(ext.length>0?ext:'svg');
        }
        const Draw_moon=()=>{Draw(ThemeSvg,'theme_dark_sym');};
        const Draw_sun=()=>{Draw(ThemeSvg,'theme_light_sym');};
        const getPlatform=()=>{return getCookie('ZhYicPlatform');}
        const SetPlatform=(PlatformName)=>{setCookie('ZhYicPlatform',PlatformName);}
        function set_theme(type) {
            if(getPlatform()=='mobile'){if(Main.classList.contains('pc'))Main.classList.remove('pc');}
            else if(!Main.classList.contains('pc'))Main.classList.add('pc');
        }
        const ClassAttach=(ori,nw,type)=>{
            for(var a=document.getElementsByClassName(ori),i=0;i<a.length;i++)
                if(type==-1)a[i].classList.remove(nw);
                else a[i].classList.add(nw);
        }
        function CodeHideProcess(){
            var codes=document.getElementsByTagName("pre");
            var CodeSymbol=document.createElement('span'),CodeSymbolPic=document.createElement('img'),CodeSymbolText=document.createTextNode('click to view code');
            var codes=document.getElementsByTagName("pre");var CodeSymbol=document.createElement('span'),CodeSymbolPic=document.createElement('img'),CodeSymbolText=document.createTextNode('click to view code');CodeSymbolPic.src='picture/code-hidden-sym.svg',CodeSymbol.classList.add('code-hidden'),CodeSymbol.appendChild(CodeSymbolPic),CodeSymbol.appendChild(CodeSymbolText);
            for(var i=0;i<codes.length;i++){
                if(codes[i].classList.contains('in-line'))continue;
                codes[i].style.display="none",codes[i].id='code'+i+'main';
                var now=CodeSymbol.cloneNode(1);
                now.id='code'+i+'sym',now.onclick=showCode;
                codes[i].parentNode.insertBefore(now,codes[i]);
            }
        }
        function DfnHideProcess(){
            
        }
        function sleep(d){
            var cur=new Date().getTime(), now = cur;
            while(now - cur <= d)now=new Date().getTime();
            //console.log(cur);
        }
        function clear(obj,cxt){
            //cxt.clearRect(0,0,obj.width,obj.height);
        }
        //  TopButton.addEventListener("onclick",return_to_top);
        if (a > 100) {
            flag = true, Velocity(Header, { opacity: 0.8 }, { duration: "fast" });
            Velocity(TopButton, { opacity: 1 }, { display: "block" }, { duration: "fast" });
        }
        else Velocity(TopButton, { opacity: 0 }, { display: "none" }, { duration: "fast" });
        if (a > currentHeight) {
            hideflag = true, Velocity(Header, { opacity: 0 }, { display: "none" }, { duration: "slow" });
        }
        window.onscroll = function navibar() {
            last=a,
            a = document.documentElement.scrollTop || document.body.scrollTop,
            currentHeight = (document.documentElement.clientHeight || document.body.clientHeight) / 2;
            //console.log(cnt++, a, currentHeight, last, flag, hideflag);
            if (a > 100 && flag == false) {
                flag = true, Velocity(Header, { opacity: 0.8 }, { duration: "fast" });
                Velocity(TopButton, { opacity: 1 }, { display: "block" }, { duration: "fast", easing: "ease-in" });
                //console.log("showbutton");
            }
            if (a <= 100 && flag == true) {
                flag = false, Velocity(Header, { opacity: 1 }, { duration: "fast" });
                Velocity(TopButton, { opacity: 0 }, { display: "none" }, { duration: "fast", easing: "ease-in" });
                //console.log("hidebutton");
            }
            if (a > currentHeight && last < a && hideflag == false && !Menuflag) {
                hideflag = true, Velocity(Header, { opacity: 0 }, { display: "none" }, { duration: "slow" });
            }
            if ((a < currentHeight || last-a>currentHeight*0.4) && hideflag == true) {
                hideflag = false, Velocity(Header, { opacity: 0.8 }, { display: "block" }, { duration: "slow" });
            }
        }
        TopDiv.onclick = function return_to_top() {
            Velocity(Body, "scroll", { duration: "slow", easing: "ease-out" });
        }
        !MenuDiv?0:MenuDiv.onclick = function show_menu() {
            if(!Menuflag)Velocity(MenuButton,{rotateZ:"45deg"},{duration:"fast",easing:"ease-out"}),
                Velocity(MenuContainer,{height:'6rem'},{duration:"fast"});
            else Velocity(MenuButton,"reverse",{duration:"fast",easing:"ease-out"}),
                Velocity(MenuContainer,{height:'0rem'},{duration:"fast"});
            Menuflag=!Menuflag;
        }
        var changeToLighttheme=()=>{
            Draw_sun();
            if(getPlatform()=="PC")Velocity(Body,{backgroundColor:LGREY},{duration:"normal"}),Velocity(Main,{backgroundColor:"#FFFFF0",color:BLACK},{duration:"normal",easing:"ease-in-out"});
            else Velocity(Body,{backgroundColor:LGREY},{duration:"normal"}),Velocity(Main,{backgroundColor:LGREY,color:BLACK},{duration:"normal",easing:"ease-in-out"});
            ClassAttach('code-hidden','code-hidden-dark',-1);
            ClassAttach('hljs','code-dark',-1);
            for(var a=document.getElementsByTagName('a'),i=0;i<a.length;i++)a[i].classList.remove('a-lighter');
        }
        var changeToDarktheme=()=>{
            Draw_moon();
            if(getPlatform()=="PC")Velocity(Body,{ backgroundColor:LYELLOW2},{duration:"normal", easing:"ease-in-out"}),Velocity(Main,{backgroundColor:LYELLOW1,color:"#FFFFFF"},{duration:"normal",easing:"ease-in-out"});
            else Velocity(Body,{ backgroundColor:LYELLOW2},{duration:"normal", easing:"ease-in-out"}),Velocity(Main,{backgroundColor:LYELLOW2,color:"#FFFFFF"},{duration:"normal",easing:"ease-in-out"});
            ClassAttach('code-hidden','code-hidden-dark',1);
            ClassAttach('hljs','code-dark',1);
            for(var a=document.getElementsByTagName('a'),i=0;i<a.length;i++)a[i].classList.add('a-lighter');
        }
        const setDarktheme=()=>{
            Body.style.background=LYELLOW2;
            Main.style.background=LYELLOW1,Main.style.color='#FFFFFF';
            Velocity(Body,{ backgroundColor:LYELLOW2},{duration:"normal", easing:"ease-in-out"}),Velocity(Main,{backgroundColor:LYELLOW1,color:'#FFFFFF'},{duration:"normal",easing:"ease-in-out"});
            ClassAttach('code-hidden','code-hidden-dark',1);
            ClassAttach('hljs','code-dark',1);
            for(var a=document.getElementsByTagName('a'),i=0;i<a.length;i++)a[i].classList.add('a-lighter');
            Draw_moon();
        }
        function init() {
            currentHeight = (document.documentElement.clientHeight || document.body.clientHeight) / 2,
            currentWidth = (document.documentElement.clientWidth || document.body.clientWidth);
            lineH = currentHeight/16, fontH=currentHeight/18;
            Draw(TopSvg,'top_sym');
            if(MenuDiv&&firstInit) {
                firstInit=false;
                Draw(MenuSvg,'menu_sym');
                while(Menulist.hasChildNodes())Menulist.removeChild(Menulist.firstChild);
                for(var i=0;i<3;i++){
                    var Menuli=document.createElement("li"),Menuop=document.createElement("a");
                    var tmp=document.createTextNode(Menucontext[i]);
                    Menuop.href=Menucontext[i]+".html",Menuop.appendChild(tmp);
                    Menuli.appendChild(Menuop),Menulist.appendChild(Menuli);
                }
                Menubox.appendChild(Menulist);MenuContainer.appendChild(Menubox);
            }
            if(currentHeight*2>currentWidth) {
                    SetPlatform('mobile');
                    if(Main.classList.contains('pc'))Main.classList.remove('pc');
                    if(!nightshift)Main.style.backgroundColor=LGREY,Velocity(Main,{opacity:1},{duration:"normal",delay:500,easing:"ease-out"});
                    else Main.style.backgroundColor=LYELLOW1,Velocity(Main,{opacity:1},{duration:"normal",delay:200,easing:"ease-out"});
            }
            else {
                    SetPlatform('PC');
                    Main.classList.add('pc');
            }
            console.log(getPlatform());
            if(!codeHidden)CodeHideProcess(),DfnHideProcess(),codeHidden=true;
            set_theme(getPlatform());
            if(getPlatform()=='mobile'&&document.getElementById('article-index'))
                Velocity(document.getElementById('article-index'),{opacity:0},{display:'none'});
            else Velocity(document.getElementById('article-index'),{opacity:1},{display:'block'});
        }
        !ThemeDiv?0:ThemeDiv.onclick = function change(){
            if(!nightshift)changeToDarktheme();
            else changeToLighttheme();
            nightshift=!nightshift;
            setCookie('ZhYicTheme',nightshift?'night':'day',0.1);
        }
        !SettingDiv?0:SettingDiv.onclick = function jumpToSetting(){
            console.log('clicked');
            if(!settingIframe)return;
            if(settingIframe.style.display!='block')settingIframe.style.display='block';
            else settingIframe.style.display='none';
        }
        function showCode()
        {
            var str=new String(this.id).replace(/sym/g,'main');
            document.getElementById(str).style.display='block',this.style.display='none';
        }
        function main(type){
            //cookie operation need loading.js
            currentHeight = (document.documentElement.clientHeight || document.body.clientHeight) / 2,
            currentWidth = (document.documentElement.clientWidth || document.body.clientWidth);
            if(currentHeight!=lastH||currentWidth!=lastW)
            {
                lastH=currentHeight,lastW=currentWidth;
            }
            else return ;
            if(type)
            {
                if(type=='dark')
                    nightshift=true;
                else nightshift=false;
            }
            else
            {
                getCookie('ZhYicTheme');
                if(getCookie('ZhYicTheme')=='night')nightshift=true;
                else if(!getCookie('ZhYicTheme').length){
                    var now=new Date();
                    if(now.getHours()>17||now.getHours()<5)nightshift=true;
                    else nightshift=false;
                    setCookie('ZhYicTheme',nightshift?'night':'day',0.1);
                }
            }
            init();
            if(nightshift)setDarktheme();
            else changeToLighttheme();
        }
        window.onload=main('light');
        window.onresize = function(){
            init();
        };</script>
<script src="js/document.js"></script>
</body>
</html>